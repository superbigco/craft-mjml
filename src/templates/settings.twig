{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * MJML plugin for Craft CMS 3.x
 *
 * MJML Settings.twig
 *
 * @author    Superbig
 * @copyright Copyright (c) 2018 Superbig
 * @link      https://superbig.co
 * @package   MJML
 * @since     1.0.0
 */
#}

{% import "_includes/forms" as forms %}

<h2>MJML API</h2>

{{ forms.autosuggestField({
    label: 'API URL',
    instructions: 'Enter the custom API URL (optional). Defaults to the official MJML API at https://api.mjml.io/v1/. You can use this to specify a private MJML server endpoint.',
    id: 'apiUrl',
    name: 'apiUrl',
    value: settings['apiUrl'] ?? null,
    suggestEnvVars: true,
    errors: settings.getErrors('apiUrl'),
    placeholder: 'https://api.mjml.io/v1/'
})
}}

{{ forms.autosuggestField({
    label: 'API App ID',
    instructions: 'Enter the app id received by email (optional if using a custom API without authentication)',
    id: 'appId',
    name: 'appId',
    value: settings['appId'] ?? null,
    suggestEnvVars: true,
    errors: settings.getErrors('appId'),
})
}}

{{ forms.autosuggestField({
    label: 'API Secret Key',
    instructions: 'Enter the secret key received by email (optional if using a custom API without authentication)',
    id: 'secretKey',
    name: 'secretKey',
    value: settings['secretKey'] ?? null,
    suggestEnvVars: true,
    errors: settings.getErrors('secretKey'),
})
}}

<h2>MJML local CLI</h2>

{{ forms.autosuggestField({
    label: 'Node.js Path',
    instructions: 'Enter the path to where the your version of Node.js is located, i.e. `/usr/local/bin/node`',
    id: 'nodePath',
    name: 'nodePath',
    suggestEnvVars: true,
    errors: settings.getErrors('nodePath'),
    value: settings.nodePath,
})
}}

{{ forms.autosuggestField({
    label: 'MJML CLI Path',
    instructions: 'Enter the path to where the MJML CLI installed with npm is located, i.e. `/usr/local/bin/mjml`',
    id: 'mjmlCliPath',
    name: 'mjmlCliPath',
    suggestEnvVars: true,
    errors: settings.getErrors('mjmlCliPath'),
    value: settings.mjmlCliPath,
})
}}

{{ forms.autosuggestField({
    label: 'MJML CLI Config Arguments',
    instructions: 'Enter the (optional) MJML CLI config arguments, e.g. `--config.minify true`',
    id: 'mjmlCliConfigArgs',
    name: 'mjmlCliConfigArgs',
    suggestEnvVars: true,
    errors: settings.getErrors('mjmlCliConfigArgs'),
    value: settings['mjmlCliConfigArgs'] ?? null,
})
}}
